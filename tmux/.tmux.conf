# =====================================================
# 🚀 TMUX CONFIGURATION - DREAMCODER
# =====================================================
# Configuración optimizada para productividad

# =====================================================
# 🎨 GENERAL SETTINGS
# =====================================================
# Cambiar prefijo de Ctrl+b a Ctrl+a (más ergonómico)
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Habilitar mouse
set -g mouse on

# Comenzar ventanas y paneles en 1 (no en 0)
set -g base-index 1
setw -g pane-base-index 1

# Renumerar ventanas automáticamente
set -g renumber-windows on

# Aumentar historial de scrollback
set -g history-limit 50000

# Reducir delay de escape (mejor para vim/nvim)
set -sg escape-time 0

# Habilitar colores RGB
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# =====================================================
# 🔧 KEYBINDINGS
# =====================================================
# Recargar configuración
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Split panes usando | y -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Navegación entre paneles con Alt+arrow (sin prefijo)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Navegación entre ventanas con Shift+arrow
bind -n S-Left previous-window
bind -n S-Right next-window

# Redimensionar paneles con Ctrl+arrow
bind -n C-Left resize-pane -L 5
bind -n C-Right resize-pane -R 5
bind -n C-Up resize-pane -U 5
bind -n C-Down resize-pane -D 5

# Crear nueva ventana en el mismo directorio
bind c new-window -c "#{pane_current_path}"

# =====================================================
# 🎨 THEME - TOKYO NIGHT / DRACULA INSPIRED
# =====================================================
# Status bar
set -g status-style bg=#1e1e2e,fg=#cdd6f4
set -g status-left-length 40
set -g status-right-length 100

# Window status
setw -g window-status-style fg=#7f849c,bg=#1e1e2e
setw -g window-status-current-style fg=#89b4fa,bg=#313244,bold

# Pane borders
set -g pane-border-style fg=#313244
set -g pane-active-border-style fg=#89b4fa

# Message style
set -g message-style bg=#313244,fg=#cdd6f4

# Status bar content
set -g status-left "#[fg=#1e1e2e,bg=#89b4fa,bold] 󰣇 #S #[fg=#89b4fa,bg=#1e1e2e]"
set -g status-right "#[fg=#313244,bg=#1e1e2e]#[fg=#cdd6f4,bg=#313244] %H:%M #[fg=#89b4fa,bg=#313244]#[fg=#1e1e2e,bg=#89b4fa,bold] %d-%b-%Y "
setw -g window-status-format " #I:#W "
setw -g window-status-current-format "#[fg=#1e1e2e,bg=#313244]#[fg=#89b4fa,bg=#313244,bold] #I:#W #[fg=#313244,bg=#1e1e2e]"

# =====================================================
# 🚀 PRODUCTIVITY FEATURES
# =====================================================
# Habilitar modo vi para copiar/pegar
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# Sincronizar paneles (útil para ejecutar comandos en múltiples paneles)
bind S setw synchronize-panes

# Zoom pane con prefix + z (ya viene por defecto, pero es bueno recordarlo)
# bind z resize-pane -Z

# =====================================================
# 💡 TIPS
# =====================================================
# Prefix: Ctrl+a
# Split horizontal: Ctrl+a |
# Split vertical: Ctrl+a -
# Navegar paneles: Alt+Arrows (sin prefijo)
# Navegar ventanas: Shift+Arrows
# Redimensionar: Ctrl+Arrows
# Nueva ventana: Ctrl+a c
# Recargar config: Ctrl+a r
# Zoom pane: Ctrl+a z
# Modo copia: Ctrl+a [
# Sincronizar paneles: Ctrl+a S
